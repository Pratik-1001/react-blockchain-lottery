(this["webpackJsonplottery-react"]=this["webpackJsonplottery-react"]||[]).push([[0],{209:function(e,t,n){},211:function(e,t,n){},225:function(e,t){},228:function(e,t){},231:function(e,t){},235:function(e,t){},261:function(e,t){},263:function(e,t){},277:function(e,t){},279:function(e,t){},309:function(e,t){},311:function(e,t){},399:function(e,t){},400:function(e,t){},498:function(e,t,n){"use strict";n.r(t);var a=n(43),c=n.n(a),s=n(109),r=n.n(s),l=(n(209),n(44)),i=n(76),o=n(5),u=n(6),h=n(11),d=n(10),m=n(17),j=n.n(m),b=n.p+"static/media/bp32PizJ.753316bc.png",f=(n(211),n(199)),p=n.n(f);window.ethereum.request({method:"eth_requestAccounts"});var x=new p.a(window.ethereum),y=new x.eth.Contract([{constant:!1,inputs:[],name:"selectWinner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getPlayers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"joinGame",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],"0x004BCD56a83Ef0319bFf1Ae1BCDc68777b7Da1f0"),O=n(201),v=n.n(O),g=n(202),w=n.n(g),N=n(9),W=(w()(v.a),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).myfunc=Object(i.a)(j.a.mark((function t(){var n,a,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.eth.getAccounts();case 2:return n=t.sent,console.log(y.methods),t.next=6,y.methods.getPlayers().call();case 6:return a=t.sent,t.next=9,x.eth.getBalance(y._address);case 9:return c=t.sent,t.next=12,x.eth.getBalance(n[0]);case 12:s=t.sent,e.setState({balance:c,Players:a,accounts:n,myWalletBalc:s});case 14:case"end":return t.stop()}}),t)}))),e.sendEther=function(){var t=Object(i.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,y.methods.joinGame().send({from:e.state.accounts[0],value:x.utils.toWei(e.state.amtToPay,"ether")});case 3:a=t.sent,console.log(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.SelectWinner=function(){var t=Object(i.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,y.methods.selectWinner().send({from:e.state.accounts[0]});case 3:a=t.sent,console.log("w --- ",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={balance:"",myWalletBalc:"",Players:[],accounts:[],amtToPay:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.myfunc(),setInterval((function(){x.eth.getBalance(y._address).then((function(t){x.utils.fromWei(t,"ether"),console.log(t),e.setState(Object(l.a)(Object(l.a)({},e.state),{},{balance:t}))})),x.eth.getBalance(e.state.accounts[0]).then((function(t){x.utils.fromWei(t,"ether"),console.log(t),e.setState(Object(l.a)(Object(l.a)({},e.state),{},{myWalletBalc:t}))}))}),3e3)}},{key:"render",value:function(){var e=this;return console.log(this.state),Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)("header",{className:"App-header",children:[Object(N.jsx)("img",{src:b,className:"App-logo",alt:"logo",style:{width:"8rem",height:"10rem"}}),Object(N.jsx)("p",{children:Object(N.jsxs)("code",{children:[Object(N.jsx)("span",{className:"text-white",children:"Contract Wallet: "}),Object(N.jsx)("span",{className:0==x.utils.fromWei(this.state.balance,"ether")?"danger":"safe",children:x.utils.fromWei(this.state.balance,"ether")})," ",Object(N.jsx)("span",{className:"text-info",children:"Ether"})]})}),Object(N.jsx)("div",{className:"root-form-box",children:Object(N.jsx)("form",{children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-12 d-flex justify-content-center",children:Object(N.jsxs)("div",{className:"walletForm",children:[Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-12 ",children:Object(N.jsxs)("code",{children:[Object(N.jsx)("span",{className:"text-white",children:"My Wallet Balance:"})," ",Object(N.jsx)("span",{className:0==x.utils.fromWei(this.state.myWalletBalc,"ether")?"danger":"safe",children:x.utils.fromWei(this.state.myWalletBalc,"ether")})," ",Object(N.jsx)("span",{className:"text-info",children:"Ether"})]})})}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-6",children:Object(N.jsx)("code",{className:"text-white",children:"Ether to Send"})}),Object(N.jsx)("div",{className:"col-md-6",children:Object(N.jsx)("input",{placeholder:"Enter Ether",value:this.state.amtToPay,onChange:function(t){return e.setState(Object(l.a)(Object(l.a)({},e.state),{},{amtToPay:t.target.value}))},className:"form-control"})})]}),Object(N.jsx)("div",{className:"row mt-2",children:Object(N.jsxs)("div",{className:"col-md-12",children:["\xa0\xa0",Object(N.jsx)("button",{onClick:this.sendEther,className:"btn btn-success",style:{float:"right",marginLeft:"1rem"},children:"Send"})," \xa0\xa0",Object(N.jsx)("button",{onClick:this.SelectWinner,className:"btn btn-warning",style:{float:"right"},children:"Pick a Winner"}),"\xa0\xa0"]})})]})})})})})]})})}}]),n}(c.a.Component)),B=W,P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,502)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};n(496),n(497);r.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(B,{})}),document.getElementById("root")),P()}},[[498,1,2]]]);
//# sourceMappingURL=main.9cdf57d9.chunk.js.map